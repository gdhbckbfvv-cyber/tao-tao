# EarthLord - 游戏设计文档 (GDD)

**文档版本**: 1.0
**创建日期**: 2025-12-23
**游戏名称**: EarthLord (地球领主)
**游戏类型**: LBS生存策略游戏
**平台**: iOS
**目标年龄**: 12+

---

## 1. 游戏概念

### 1.1 高概念 (High Concept)
**"在末日废土上,用双脚丈量你的王国"**

一款结合真实GPS定位的末日生存游戏。玩家在后末日世界中,通过真实世界的移动来圈占领地、探索废墟、收集资源、建设家园,并与其他幸存者合作或竞争。

### 1.2 核心玩法循环

```
┌─────────────────────────────────────────────┐
│              核心循环 (Core Loop)            │
├─────────────────────────────────────────────┤
│                                             │
│   【移动探索】                               │
│       ↓                                     │
│   【发现POI & 圈占领地】                      │
│       ↓                                     │
│   【获得资源】                               │
│       ↓                                     │
│   【消耗资源建造/交易】                       │
│       ↓                                     │
│   【提升能力】                               │
│       ↓                                     │
│   【探索更远的地方】 → 回到【移动探索】        │
│                                             │
└─────────────────────────────────────────────┘
```

### 1.3 独特卖点 (USP)

1. **真实GPS圈地**: 不是点击虚拟点位,而是真的用脚步走出领地边界
2. **Walk to Earn**: 走路越多,获得资源越多,鼓励健康生活方式
3. **真实地标融合**: 游戏内的医院、超市都是现实中真实存在的
4. **基于位置的社交**: 只能与附近的玩家互动,创造真实的地域社区感
5. **完整经济循环**: 资源获取-消耗-交易形成闭环,无通货膨胀

### 1.4 灵感来源

| 游戏 | 借鉴元素 |
|------|----------|
| 宝可梦GO | LBS玩法、真实地标、Walk to Earn |
| Ingress | 地域占领、阵营对抗 |
| 部落冲突 | 建造系统、资源管理 |
| 饥荒 | 生存体征、资源消耗 |
| 文明系列 | 领地扩张、建筑升级树 |

---

## 2. 世界观与叙事

### 2.1 背景故事

#### 时间线

**2048年 - 终末战争**
- 全球范围的"世界战争"在72小时内摧毁了现代文明
- 99%的人口在战争中消失
- 城市沦为废墟,秩序崩塌

**2051年 - 协议颁布**
- 幸存者从避难所走出
- 联合国残余势力颁布《新开拓者协议》
- 核心法则: **"凡以双足丈量之无主土地,皆为开拓者所有"**
- 旧世界的土地所有权全部失效

**2051年 - 现在 (游戏开始)**
- 玩家作为开拓者,开始重建之旅
- 城市废墟中蕴藏着旧世界的资源
- 开拓者们既合作又竞争

### 2.2 世界观设定

#### 世界状态
- **文明等级**: 后启示录早期(重建初期)
- **科技水平**: 现代科技残留 + 简单工具制作
- **社会结构**: 无政府状态,开拓者自治
- **资源状况**: 旧世界遗留资源 + 新世界生产资源

#### 地域设定
- **废墟城市**: 玩家主要活动区域,充满可搜刮的POI
- **郊外荒野**: 资源稀少但可圈占大片领地
- **特殊区域**: 高风险高回报的限时区域

### 2.3 视觉风格: 希望朋克 (Hopepunk)

**核心理念**: "废墟之上的新生"

#### 色彩方案
- **主色调**:
  - 废土灰 (#7A7A7A)
  - 锈迹棕 (#8B4513)
  - 混凝土灰 (#A9A9A9)

- **点缀色**:
  - 新生绿 (#90EE90) - 代表植物、生机
  - 希望蓝 (#87CEEB) - 代表天空、未来
  - 暖阳橙 (#FFA500) - 代表篝火、温暖

#### 视觉元素
- **建筑**: 破败与新建对比
- **植物**: 从废墟中生长的绿苗
- **光效**: 温暖的光斑,象征希望
- **纹理**: 粗糙的混凝土 + 手绘的标识

#### 情绪基调
- **不是**: 绝望、黑暗、压抑
- **而是**: 希望、重建、温暖、坚韧

### 2.4 音效与音乐

#### 音乐风格
- **主题**: 后末日民谣 + 环境音
- **乐器**: 吉他、钢琴、合成器
- **情绪**: 悠远、温暖、带着淡淡的忧伤

#### 音效设计
- **环境音**: 风声、鸟鸣、远处废墟的回响
- **操作音**: 清脆的按钮音、轻柔的滑动音
- **成功音**: 温暖的和弦、希望的旋律
- **失败音**: 低沉但不绝望的音效

---

## 3. 核心玩法机制

### 3.1 GPS圈地系统

#### 3.1.1 圈地流程

```
1. 开始圈地
   ↓
2. 玩家移动,GPS绘制轨迹 (蓝色线条)
   ↓
3. 回到起点附近 (50米内)
   ↓
4. 系统检测轨迹闭合
   ↓
5. 验证合法性
   ├─ 面积在范围内 (500-50000m²)
   ├─ 无作弊行为 (速度、直线检测)
   └─ 无重叠冲突
   ↓
6. 圈地成功,多边形变绿色
   ↓
7. 领地归属玩家
```

#### 3.1.2 圈地规则

| 参数 | 数值 | 说明 |
|------|------|------|
| 最小面积 | 500 m² | 防止滥用 |
| 最大面积 | 50,000 m² | 单次圈地上限 |
| 最小边长 | 20 米 | 防止作弊 |
| 最大速度 | 20 km/h | 超过判定为作弊 |
| 闭合距离 | 50 米 | 起点终点距离 |
| 每日圈地次数 | 3 次 | 免费玩家限制 |
| 领地总数上限 | 5 块 | 可通过升级扩展 |

#### 3.1.3 反作弊机制

**速度检测**:
```
if GPS速度 > 20 km/h:
    标记为可疑
    if 持续10秒:
        圈地失败,提示"请步行圈地"
```

**直线检测**:
```
if 连续轨迹点形成直线 > 100米:
    if 距离间隔过于均匀:
        判定为模拟GPS
        圈地失败
```

**轨迹合理性**:
- 检测轨迹点密度
- 检测转角是否自然
- 检测是否存在瞬移

#### 3.1.4 圈地策略深度

**位置选择**:
- **城市中心**: 面积小但POI密集,便于搜刮
- **郊区**: 可圈大面积,利于建设发展
- **交通要道**: 方便触发与其他玩家的交易

**形状优化**:
- **圆形**: 周长最短,省力
- **不规则**: 可以包含更多POI
- **狭长形**: 可以连接多个重要点位

**战略布局**:
- 早期: 圈小而精,快速建设
- 中期: 扩大版图,占据资源点
- 后期: 优化布局,连接领地网络

### 3.2 探索与搜刮系统

#### 3.2.1 POI分类与资源表

| POI类型 | 常见资源 | 稀有资源 | 刷新CD | 触发距离 |
|---------|----------|----------|--------|----------|
| 医院/诊所 | 绷带、消毒水 | 抗生素、急救包 | 24h | 100m |
| 超市/餐厅 | 罐头、瓶装水 | 营养液、军粮 | 12h | 100m |
| 工厂/工地 | 金属板、螺丝 | 电子元件 | 24h | 150m |
| 公园/林地 | 木材、石头 | 药用植物 | 6h | 100m |
| 银行/珠宝店 | 金属 | 稀有金属、图纸 | 72h | 100m |
| 加油站 | 塑料、金属 | 燃料 | 24h | 100m |
| 学校/图书馆 | 纸张 | 图纸、书籍 | 24h | 100m |
| 住宅区 | 布料、家具 | 工具 | 12h | 100m |

#### 3.2.2 资源掉落公式

```
基础掉落数量 = Base × (1 + PlayerLevel × 0.1) × RandomMultiplier

其中:
- Base: 基础数量 (由POI类型决定)
- PlayerLevel: 玩家等级
- RandomMultiplier: 随机系数 (0.8 - 1.2)

稀有资源掉落概率 = BaseRate × (1 + VIPBonus) × LuckFactor

其中:
- BaseRate: 基础概率 (5% - 15%)
- VIPBonus: 会员加成 (0.5 = +50%)
- LuckFactor: 幸运因子 (可通过道具提升)
```

#### 3.2.3 探索奖励机制

**距离奖励**:
```
每探索1km → 获得10经验 + 5金币
每日首次探索 → 双倍奖励
连续7日探索 → 额外宝箱
```

**发现奖励**:
```
首次发现新POI → 50经验 + 特殊标记
发现稀有POI(银行等) → 100经验 + 成就
```

**时间奖励**:
```
白天探索(6:00-18:00) → 正常掉落
夜间探索(18:00-6:00) → 资源+20%,但体力消耗+50%
```

#### 3.2.4 探索玩法深度

**路线规划**:
- 玩家可查看附近POI地图
- 规划高效搜刮路线
- 社区分享最优路线

**冒险等级**:
```
等级1 (新手): 只能搜刮普通POI
等级5 (探索者): 解锁工厂、加油站
等级10 (冒险家): 解锁银行、军事基地
等级20 (传奇): 解锁特殊限时POI
```

### 3.3 资源与经济系统

#### 3.3.1 资源分级

**Tier 1 - 基础资源** (最常见)
- 木材、石头、金属板
- 罐头、瓶装水
- 布料、塑料

**Tier 2 - 进阶资源** (较稀有)
- 钢材、混凝土
- 药品、营养液
- 电子元件

**Tier 3 - 稀有资源** (稀有)
- 稀有金属、合金
- 高级药品
- 芯片、电路板

**Tier 4 - 传说资源** (极稀有)
- 卫星模块
- 核心处理器
- 高级图纸

#### 3.3.2 背包容量设计

```
基础容量: 100格

扩容方式:
1. 建造小仓库: +50格 (成本: 木材×50, 金属×30)
2. 建造中仓库: +100格 (成本: 钢材×40, 混凝土×30)
3. 建造大仓库: +200格 (成本: 合金×30, 电子元件×20)
4. 购买背包扩容: +50格 (内购 $4.99)

最大容量: 500格
```

#### 3.3.3 资源消耗平衡

**每日基础消耗**:
```
生存消耗:
- 食物: 10单位/天 (维持饱食度)
- 水: 15单位/天 (维持水分)

建筑维护:
- 每个建筑消耗: 5单位相关材料/周
```

**收支平衡点设计**:
```
目标: 让玩家保持轻微资源压力,但不至于崩溃

日均获取 = 日均消耗 × 1.2
(留20%盈余用于建造和交易)

示例:
- 每日探索可获得: 食物×30, 水×40
- 每日消耗: 食物×10, 水×15
- 剩余可用于交易或储备
```

#### 3.3.4 经济系统防通胀设计

**资源消耗出口**:
1. 生存消耗(持续)
2. 建筑建造(一次性大量)
3. 建筑升级(递增消耗)
4. 建筑维护(持续)
5. 交易手续费(消耗金币)

**资源生成限制**:
1. POI冷却时间
2. 每日探索次数上限
3. 背包容量限制
4. 体力值限制

### 3.4 建造系统

#### 3.4.1 建筑科技树

```
Tier 1: 生存基础
├─ 篝火 (提供温暖)
│  └─ 成本: 木材×30, 石头×20
├─ 简易庇护所 (休息恢复)
│  └─ 成本: 木材×50, 布料×20
└─ 小仓库 (扩容+50)
   └─ 成本: 木材×50, 金属×30

Tier 2: 功能扩展 (需要Tier 1前置)
├─ 工作台 (制作工具)
│  ├─ 前置: 简易庇护所
│  └─ 成本: 木材×100, 金属×60, 工具×10
├─ 农田 (生产食物)
│  ├─ 前置: 篝火
│  └─ 成本: 木材×60, 种子×20, 水×50
└─ 中仓库 (扩容+100)
   ├─ 前置: 小仓库
   └─ 成本: 钢材×40, 混凝土×30

Tier 3: 高级设施 (需要Tier 2前置)
├─ 太阳能板 (生产能源)
│  ├─ 前置: 工作台
│  └─ 成本: 电子元件×30, 金属×50, 玻璃×20
├─ 通讯塔 (扩大通讯范围)
│  ├─ 前置: 工作台
│  └─ 成本: 钢材×80, 电子元件×40
└─ 大仓库 (扩容+200)
   ├─ 前置: 中仓库
   └─ 成本: 合金×30, 电子元件×20
```

#### 3.4.2 建筑状态机

```
[待建造]
   ↓ (消耗资源)
[建造中] ────→ 建造时间: 5分钟 - 24小时
   ↓
[待激活] ────→ 玩家手动激活
   ↓
[运行中] ────→ 产出资源 / 提供功能
   │
   ├─→ [升级中] ─→ (消耗资源) ─→ [运行中]
   │
   ├─→ [维修中] ─→ (消耗资源) ─→ [运行中]
   │
   └─→ [拆除] ─→ 返还50%资源
```

#### 3.4.3 建筑平衡设计

**建造成本递增**:
```
Tier 1: 基础资源 (木材、石头)
Tier 2: 进阶资源 (钢材、混凝土) + 1.5倍数量
Tier 3: 稀有资源 (合金、电子元件) + 2倍数量
```

**建造时间设计**:
```
Tier 1: 5-30分钟 (即时反馈)
Tier 2: 1-6小时 (中期等待)
Tier 3: 12-24小时 (长期目标)

可通过内购"建造加速"即时完成
```

**建筑收益平衡**:
```
投资回报周期: 7-14天

示例 - 农田:
- 建造成本: 木材×60 (价值约300金币)
- 每日产出: 食物×5 (价值约50金币)
- 回本周期: 6天
- 14天总收益: 700金币 (2.3倍ROI)
```

### 3.5 交易系统

#### 3.5.1 交易机制

**挂单发布**:
```
1. 玩家在领地内开启"允许交易"
2. 选择"提供物品"和"需求物品"
3. 发布挂单,显示在地图上
4. 其他玩家进入100米范围内可见
```

**交易匹配**:
```
触发条件:
- 距离 < 100米
- 对方开启交易
- 双方物品匹配

交易流程:
1. 买家看到挂单
2. 确认交易
3. 双方物品自动交换
4. 记录交易历史
```

#### 3.5.2 交易经济模型

**交易定价参考**:
```
官方参考价(金币):
- Tier 1资源: 5-10金币/单位
- Tier 2资源: 20-50金币/单位
- Tier 3资源: 100-300金币/单位
- Tier 4资源: 500-2000金币/单位

玩家可自由定价,形成市场价格
```

**交易手续费**:
```
免费玩家: 10%手续费
月卡玩家: 5%手续费
年卡玩家: 0%手续费

(手续费以金币形式扣除,作为资源回收机制)
```

#### 3.5.3 交易玩法深度

**市场信息不对称**:
- 不同地区资源丰富度不同
- 玩家可以低买高卖
- 创造"商人"玩法

**社交驱动交易**:
- 频道内吆喝
- 建立固定交易伙伴
- 形成地域商圈

### 3.6 战斗系统 (V3.0计划)

**PvE战斗**:
- 探索时遇到变异生物
- 回合制或即时战斗
- 掉落稀有资源

**PvP竞争**:
- 领地争夺战
- 资源抢夺
- 阵营对抗

---

## 4. 进阶系统

### 4.1 等级与成长系统

#### 4.1.1 玩家等级

```
等级上限: 50级

升级所需经验:
Level 1→2: 100 XP
Level 2→3: 150 XP
Level N→N+1: 100 × (1 + N × 0.5)

经验获取途径:
- 圈地: 面积/100 XP (例如1000m²=10 XP)
- 探索: 距离×10 XP (例如1km=10 XP)
- 搜刮POI: 20-100 XP
- 建造建筑: 50-500 XP
- 完成成就: 100-1000 XP
```

#### 4.1.2 等级收益

| 等级 | 解锁内容 |
|------|----------|
| 1-5 | 基础玩法,Tier 1建筑 |
| 5-10 | 交易系统,Tier 2建筑 |
| 10-15 | 频道系统,稀有POI |
| 15-20 | Tier 3建筑,特殊配方 |
| 20-30 | 高级功能,PvP系统 |
| 30-50 | 传说建筑,独特称号 |

### 4.2 成就系统

#### 4.2.1 成就分类

**新手成就** (引导玩法)
- [ ] 第一步: 完成注册 → 奖励: 金币×100
- [ ] 开拓者: 圈下第一块地 → 奖励: 金币×200
- [ ] 拾荒者: 完成第一次搜刮 → 奖励: 金币×150
- [ ] 建设者: 建造第一个建筑 → 奖励: 金币×300
- [ ] 商人: 完成第一笔交易 → 奖励: 金币×200

**探索成就**
- [ ] 徒步者: 累计探索10km → 金币×500
- [ ] 旅行家: 累计探索100km → 金币×2000
- [ ] 探险家: 累计探索1000km → 金币×10000
- [ ] POI猎人: 发现50个不同POI → 金币×1000
- [ ] 夜行者: 夜间探索累计10km → 金币×1500

**建造成就**
- [ ] 小镇长: 拥有10个建筑 → 金币×1000
- [ ] 城主: 拥有50个建筑 → 金币×5000
- [ ] 大帝: 拥有100个建筑 → 金币×20000

**社交成就**
- [ ] 破冰者: 发送第一条消息 → 金币×100
- [ ] 社交达人: 聊天消息累计1000条 → 金币×2000
- [ ] 交易大师: 完成100笔交易 → 金币×5000

**稀有成就**
- [ ] 地主: 领地总面积 > 100,000m² → 称号"大地主"
- [ ] 首富: 拥有金币 > 100,000 → 称号"首富"
- [ ] 传奇开拓者: 完成80%成就 → 称号"传奇"

#### 4.2.2 成就奖励设计

```
成就完成度 → 总体奖励:
20%: 新手礼包 (资源包)
40%: 稀有道具
60%: 独特皮肤
80%: 传说称号
100%: 终极奖励 + 全服公告
```

### 4.3 排行榜系统

#### 4.3.1 榜单类型

**领地面积榜**
```
排序: 总领地面积
刷新: 每日0:00
奖励:
- TOP 1: 金币×5000 + 称号"地王"(7天)
- TOP 2-10: 金币×2000
- TOP 11-100: 金币×500
```

**探索距离榜**
```
排序: 本周累计探索距离
刷新: 每周一0:00
奖励:
- TOP 1: 金币×3000 + 稀有资源包
- TOP 2-10: 金币×1000
- TOP 11-100: 金币×300
```

**建筑数量榜**
```
排序: 总建筑数量
刷新: 每日0:00
奖励:
- TOP 1: 金币×2000 + 称号"建筑师"(7天)
- TOP 2-10: 金币×800
- TOP 11-100: 金币×200
```

**财富榜**
```
排序: 总资产估值(金币+资源折算)
刷新: 每日0:00
奖励:
- TOP 1: 称号"首富"(永久)
- TOP 2-10: 金币×1000
```

#### 4.3.2 排行榜策略深度

**冲榜策略**:
- 探索榜: 周末集中冲刺
- 建筑榜: 提前囤资源,突击建造
- 财富榜: 平衡消耗与积累

**区域排行**:
- 全球榜
- 国家榜
- 城市榜 (增强地域认同)

### 4.4 生存体征系统

#### 4.4.1 体征指标

**核心生命值**
```
最大值: 100
自然恢复: 1点/小时 (在庇护所内)
掉血触发:
- 饱食度 < 20% → -2点/小时
- 水分 < 20% → -3点/小时
- 受伤(PvP) → 立即扣除
```

**饱食度**
```
最大值: 100%
衰减: -5%/小时 (正常), -8%/小时 (探索中)
恢复:
- 罐头: +20%
- 营养液: +50%
- 高级军粮: +100%
```

**水分**
```
最大值: 100%
衰减: -10%/小时 (正常), -15%/小时 (探索中)
恢复:
- 瓶装水: +30%
- 净化水: +100%
```

#### 4.4.2 BUFF系统

**正面BUFF**:
```
[充足营养] (饱食度 > 80% + 水分 > 80%)
- 探索资源掉落 +20%
- 移动速度 +10%
- 持续时间: 直到体征下降

[元气满满] (生命值 = 100%)
- 全属性 +5%

[会员祝福] (订阅用户)
- 体征衰减速度 -50%
- 恢复效果 +50%
```

**负面DEBUFF**:
```
[饥饿] (饱食度 < 20%)
- 移动速度 -20%
- 掉血 -2点/小时

[脱水] (水分 < 20%)
- 资源掉落 -30%
- 掉血 -3点/小时

[濒死] (生命值 < 10%)
- 全属性 -50%
- 无法建造
```

#### 4.4.3 死亡惩罚

```
死亡触发: 生命值降至0

惩罚:
- 损失背包内50%资源
- 无法操作2小时 (或花费金币×1000复活)
- 成就"不屈"(死亡3次后获得)

保护机制:
- 新手保护(7日内)无死亡惩罚
- 庇护所内不会死亡
- 月卡用户死亡惩罚减半
```

---

## 5. 社交系统

### 5.1 通讯系统

#### 5.1.1 公共频道

**覆盖范围设计**:
```
收音机(Lv1): 只接收,不发送
对讲机(Lv2): 3km范围
营地电台(Lv3): 10km范围
卫星通讯(Lv4): 全球范围

升级成本:
Lv1→Lv2: 金属×50, 电子元件×10
Lv2→Lv3: 钢材×100, 电子元件×30, 卫星模块×1
Lv3→Lv4: 合金×50, 高级电子元件×20, 卫星模块×5
```

**消息类型**:
- 文本消息 (所有等级)
- 语音消息 (Lv2+)
- 位置分享 (Lv2+)
- 图片分享 (Lv3+)

#### 5.1.2 频道系统

**频道类型**:
- 系统频道: 公共广播(不可退出)
- 官方频道: 公告、活动
- 地域频道: 自动加入所在城市频道
- 自定义频道: 玩家创建,最多加入10个

**频道管理**:
```
创建频道:
- 消耗: 金币×1000
- 设置: 名称、简介、地域限制
- 权限: 创建者为管理员

频道收益(V3.0):
- 频道人数达100人 → 创建者获得"频道主"称号
- 活跃频道可获得官方推荐
```

#### 5.1.3 PTT呼叫

**呼叫机制**:
```
操作: 长按麦克风按钮
限制: 单次最长60秒
范围: 基于设备等级
冷却: 无冷却

特殊功能:
- 紧急呼叫: 快速呼叫附近玩家求助
- 广播呼叫: 向全频道发送
```

### 5.2 联盟系统 (V3.0计划)

**联盟功能**:
- 联盟领地(多人共建)
- 联盟仓库(资源共享)
- 联盟战争(PvP)
- 联盟科技(集体加成)

---

## 6. 商业化设计

### 6.1 免费vs付费平衡

#### 6.1.1 免费玩家体验

**能完整体验**:
- ✅ 核心圈地玩法
- ✅ 探索搜刮
- ✅ 建造系统(稍慢)
- ✅ 基础社交

**限制**:
- ⏱ 每日圈地次数: 3次
- ⏱ POI搜刮冷却: 标准时长
- ⏱ 建造时间: 标准时长
- ⏱ 体征衰减: 标准速度
- 📦 交易手续费: 10%

**关键**: 免费玩家可以玩到所有内容,只是速度较慢

#### 6.1.2 付费玩家优势

**月卡玩家 ($9.99/月)**:
- ✅ 无限圈地次数
- ✅ 探索范围×2
- ✅ 资源掉落+20%
- ✅ 体征衰减-50%
- ✅ 交易手续费仅5%
- ✅ 独家月卡建筑皮肤

**年卡玩家 ($19.99/月)**:
- ✅ 包含月卡所有权益
- ✅ 资源掉落+50% (叠加)
- ✅ 建造时间-30%
- ✅ 交易手续费0%
- ✅ 独家传说皮肤
- ✅ 称号"领主"

### 6.2 内购商品设计

#### 6.2.1 资源包

| 商品名 | 价格 | 内容 | 价值 |
|--------|------|------|------|
| 初级物资包 | $0.99 | 木材×100, 石头×100, 食物×50 | 折扣20% |
| 中级物资包 | $2.99 | 钢材×50, 电子元件×20, 药品×30 | 折扣30% |
| 高级物资包 | $9.99 | 合金×30, 稀有资源×10, 图纸×3 | 折扣40% |

**设计原则**:
- 提供便利,但不破坏平衡
- 付费玩家快人一步,但不是碾压
- 免费玩家通过时间可以追上

#### 6.2.2 功能性道具

| 商品名 | 价格 | 功能 |
|--------|------|------|
| 建造加速 | $0.99 | 立即完成一个建筑 |
| 背包扩容 | $4.99 | 永久+50格容量 |
| 幸运币 | $1.99 | 稀有资源掉落率×2 (24h) |
| 体力药水 | $2.99 | 体征全满 + 24h不衰减 |

#### 6.2.3 装饰性商品

| 商品名 | 价格 | 说明 |
|--------|------|------|
| 领地主题包 | $4.99 | 改变领地显示颜色和边框 |
| 建筑皮肤 | $2.99 | 特殊外观建筑 |
| 个人头像框 | $1.99 | 稀有/传说边框 |
| 称号 | $4.99 | 独特称号显示 |

### 6.3 付费转化策略

#### 6.3.1 首充奖励

```
首次充值任意金额:
- 获得双倍购买内容
- 解锁"赞助者"称号
- 额外奖励: 稀有资源包×1
```

#### 6.3.2 限时优惠

```
新手特惠(注册7日内):
- 月卡首月$4.99 (原价$9.99)
- 资源包买一送一

节日活动:
- 双倍充值活动
- 限定皮肤
- 特价礼包
```

#### 6.3.3 VIP等级 (V3.0)

```
累计充值达到门槛 → 获得VIP等级

VIP 1 ($10): +5%全局加成
VIP 2 ($50): +10%全局加成
VIP 3 ($100): +15%全局加成 + 专属客服
VIP 4 ($500): +20%全局加成 + 内测资格
VIP 5 ($1000): +25%全局加成 + 游戏设计参与权
```

---

## 7. 新手引导设计

### 7.1 教学流程

#### 第一次游戏 (0-5分钟)

```
1. 进入游戏
   ↓
2. 播放30秒世界观CG
   "2051年,幸存者们从废墟中走出..."
   ↓
3. 账号注册/登录
   (引导使用Apple ID快速登录)
   ↓
4. 角色创建
   - 输入昵称
   - 选择头像
   ↓
5. 教学: 圈地
   "让我们圈下你的第一块领地"
   → 引导玩家在附近走一小圈(100m²即可)
   ↓
6. 圈地成功!
   奖励: 金币×200, 经验×100
   成就解锁: "开拓者"
```

#### 第一个小时 (5-60分钟)

```
7. 教学: 探索
   "附近有一个废弃的[POI名],去搜刮资源吧"
   → 引导玩家走到最近的POI
   ↓
8. 搜刮成功!
   获得: 木材×30, 石头×20
   成就解锁: "拾荒者"
   ↓
9. 教学: 建造
   "用获得的资源建造你的第一个篝火"
   → 打开建造菜单 → 选择篝火 → 放置
   ↓
10. 建造成功!
    成就解锁: "建设者"
    奖励: 金币×300
    ↓
11. 教学: 背包
    "查看你的背包,了解你拥有的资源"
    ↓
12. 引导结束
    "你已经掌握基础玩法,尽情探索吧!"
    奖励: 新手大礼包(资源×100)
```

### 7.2 渐进式解锁

**功能解锁时间表**:
```
立即解锁:
- 圈地
- 探索
- 背包
- 基础建造 (Tier 1)

等级5解锁:
- 交易系统
- 公共频道
- Tier 2建筑

等级10解锁:
- 频道创建
- 排行榜
- Tier 3建筑

等级15解锁:
- PTT呼叫
- 高级POI (银行等)

等级20解锁:
- 联盟系统 (V3.0)
- PvP系统 (V3.0)
```

### 7.3 引导设计原则

**做中学 (Learning by Doing)**:
- ❌ 不要: 长篇文字说明
- ✅ 要: 让玩家实际操作

**及时奖励**:
- 每完成一步 → 立即给予奖励
- 正反馈循环

**循序渐进**:
- 一次只教一个功能
- 给玩家消化时间

**可跳过**:
- 老玩家小号可以跳过教学
- 但跳过就放弃新手奖励

---

## 8. 关卡与活动设计

### 8.1 每日任务

```
【每日任务】(刷新时间: 每日0:00)

基础任务:
- [ ] 登录游戏 → 金币×50
- [ ] 探索1km → 金币×100
- [ ] 搜刮3个POI → 金币×150
- [ ] 建造或升级1个建筑 → 金币×200

进阶任务:
- [ ] 完成1笔交易 → 金币×300
- [ ] 发送10条消息 → 金币×100
- [ ] 圈下1块新领地 → 金币×500

全部完成奖励: 稀有资源包×1
```

### 8.2 每周挑战

```
【每周挑战】(刷新时间: 每周一0:00)

- [ ] 累计探索20km → 金币×2000
- [ ] 搜刮50个POI → 高级资源包×1
- [ ] 建造10个建筑 → 图纸×3
- [ ] 完成10笔交易 → 金币×3000
- [ ] 登录7天 → 稀有资源包×2

全部完成奖励: 传说资源包×1 + 称号"周冠军"(7天)
```

### 8.3 限时活动

#### 8.3.1 双倍资源周末

```
时间: 每周六日
效果: 所有POI掉落×2
宣传: 周五通过消息中心推送
目标: 提升周末活跃度
```

#### 8.3.2 探索马拉松

```
时间: 每月第一周
内容: 全服累计探索距离排行
奖励:
- TOP 1: 金币×50000 + 传说皮肤
- TOP 2-10: 金币×20000
- TOP 11-100: 金币×5000
- 参与奖: 金币×1000 (探索>10km)
```

#### 8.3.3 节日活动

```
春节/圣诞/万圣节等:
- 限定POI (雪人、南瓜等)
- 限定建筑皮肤
- 限定称号
- 双倍充值活动
- 特价礼包
```

### 8.4 赛季系统 (V3.0)

```
赛季时长: 3个月

赛季内容:
- 赛季排行榜 (每赛季重置)
- 赛季通行证 (免费+付费双轨)
- 赛季限定奖励

赛季通行证:
免费轨:
- 等级1-50, 基础奖励

付费轨 ($9.99):
- 等级1-50, 双倍奖励
- 独家皮肤
- 稀有资源

赛季目标:
- 提升长期留存
- 创造FOMO(错过恐惧)
- 额外收入来源
```

---

## 9. 平衡性设计

### 9.1 游戏节奏

#### 9.1.1 每日游戏时长预期

```
核心玩家(每日):
- 探索: 30分钟 (约3-5km)
- 建造管理: 10分钟
- 社交互动: 15分钟
- 其他: 5分钟
总计: 60分钟/天

休闲玩家(每日):
- 探索: 15分钟
- 签到收菜: 5分钟
总计: 20分钟/天
```

#### 9.1.2 成长曲线

```
新手期 (Lv 1-10): 1-3天
- 快速升级,频繁正反馈
- 平均1小时升1级

成长期 (Lv 10-30): 1-2周
- 逐渐减缓,建立习惯
- 平均每天升1-2级

成熟期 (Lv 30-50): 1-2个月
- 长期目标,社交为主
- 平均2-3天升1级
```

### 9.2 数值平衡

#### 9.2.1 资源掉落平衡表

| POI类型 | 基础掉落(Lv1) | 掉落倍率(Lv30) | 稀有概率 |
|---------|---------------|----------------|----------|
| 公园 | 木材×10 | 木材×25 | 5% |
| 超市 | 食物×15 | 食物×35 | 8% |
| 医院 | 药品×8 | 药品×20 | 10% |
| 工厂 | 金属×12 | 金属×30 | 12% |
| 银行 | 金属×5 | 稀有金属×15 | 25% |

#### 9.2.2 建筑成本与收益平衡

| 建筑 | 成本 | 建造时间 | 产出 | ROI周期 |
|------|------|----------|------|---------|
| 篝火 | 木材×30, 石头×20 | 5分钟 | 温暖(BUFF) | 立即 |
| 小仓库 | 木材×50, 金属×30 | 30分钟 | +50容量 | 永久 |
| 农田 | 木材×60, 种子×20 | 2小时 | 食物×5/天 | 6天 |
| 工作台 | 木材×100, 金属×60 | 6小时 | 可制作工具 | 10天 |
| 太阳能板 | 电子元件×30, 金属×50 | 24小时 | 能源×10/天 | 15天 |

### 9.3 付费平衡

#### 9.3.1 付费玩家vs免费玩家

**时间换付费模型**:
```
免费玩家达成目标 = 付费玩家时间 × 2.5

例如:
- 建造Tier 3建筑
  - 免费玩家: 25天
  - 月卡玩家: 10天

- 背包扩容到500格
  - 免费玩家: 建造所有仓库 (30天)
  - 付费玩家: 购买扩容 ($14.97) (即时)
```

**关键**: 付费优势是时间,不是能力

#### 9.3.2 付费诱因设计

**痛点转化付费点**:
```
痛点1: 背包满了
→ 解决: 购买扩容 ($4.99) 或 建造仓库(免费但慢)

痛点2: 资源不够建造
→ 解决: 购买资源包 ($2.99) 或 继续探索(免费但费时)

痛点3: 体征下降影响体验
→ 解决: 订阅月卡(衰减-50%) 或 多吃东西(免费但消耗快)

痛点4: 建造等待时间长
→ 解决: 建造加速 ($0.99) 或 等待(免费)
```

**原则**: 每个付费点都有免费替代方案

---

## 10. 技术实现要点

### 10.1 GPS与地图

**定位精度优化**:
```
1. 多源融合:
   - GPS卫星定位
   - Wi-Fi定位
   - 基站定位
   - 综合算法取最优

2. 轨迹平滑:
   - 卡尔曼滤波去噪
   - 异常点剔除
   - 轨迹插值补全

3. 室内处理:
   - 检测GPS信号强度
   - 低于阈值暂停记录
   - 恢复后继续
```

**地图渲染优化**:
```
1. 分级加载:
   - 远距离: 简化多边形
   - 近距离: 完整渲染

2. 可见性裁剪:
   - 只渲染视野内领地
   - 超出范围不加载

3. 缓存策略:
   - 本地缓存已访问区域
   - 减少网络请求
```

### 10.2 防作弊机制

**GPS作弊检测**:
```
1. 速度检测:
   if 瞬时速度 > 20km/h:
       flag = "疑似作弊"

2. 加速度检测:
   if 加速度突变 > 阈值:
       flag = "疑似瞬移"

3. 轨迹合理性:
   - 检测直线运动
   - 检测规则图形
   - 检测重复轨迹

4. 行为模式:
   - 异常活跃时段
   - 资源获取异常
   - 多账号关联
```

**服务端验证**:
```
- 所有关键操作服务端验证
- 资源发放服务端控制
- 建造、交易服务端执行
- 客户端只负责展示
```

### 10.3 性能优化

**电池优化**:
```
1. GPS采样优化:
   - 静止状态: 60秒采样一次
   - 步行状态: 5秒采样一次
   - 后台状态: 暂停采样

2. 后台任务:
   - 使用Background Modes
   - 仅在必要时更新位置

3. 网络优化:
   - 批量上传数据
   - 非关键数据延迟同步
```

**数据库优化**:
```
1. 索引优化:
   - 地理空间索引 (PostGIS)
   - 复合索引(user_id + created_at)

2. 查询优化:
   - 分页加载
   - 只查询必要字段
   - 使用视图预聚合

3. 缓存机制:
   - Redis缓存热数据
   - 排行榜5分钟缓存
```

---

## 11. 成功指标

### 11.1 关键指标 (KPI)

**用户增长**:
- DAU (日活跃用户)
- WAU (周活跃用户)
- MAU (月活跃用户)
- 新增注册用户

**用户留存**:
- 次日留存率 > 50%
- 7日留存率 > 40%
- 30日留存率 > 25%

**用户参与**:
- 日均探索距离 > 2km
- 日均游戏时长 > 30分钟
- 日均建造次数 > 1次

**商业化**:
- 付费转化率 > 15%
- ARPU > $5
- ARPPU > $30
- LTV > $50

### 11.2 里程碑目标

**3个月目标**:
- [ ] DAU > 5,000
- [ ] 7日留存 > 35%
- [ ] 月营收 > $10,000
- [ ] App Store评分 > 4.2

**6个月目标**:
- [ ] DAU > 20,000
- [ ] 7日留存 > 40%
- [ ] 月营收 > $50,000
- [ ] App Store推荐

**12个月目标**:
- [ ] DAU > 50,000
- [ ] 7日留存 > 45%
- [ ] 月营收 > $100,000
- [ ] 累计用户 > 200,000

---

## 12. 后续版本规划

### V1.0 - MVP (已完成)
- ✅ 核心圈地玩法
- ✅ 探索搜刮
- ✅ 基础建造
- ✅ 背包系统

### V1.5 - 社交版本 (已完成)
- ✅ 交易系统
- ✅ 通讯系统
- ✅ 频道管理

### V2.0 - 商业化版本 (已完成)
- ✅ 订阅系统
- ✅ 排行榜
- ✅ 成就系统
- ✅ 生存体征

### V2.5 - 优化版本 (计划中)
- ⏳ 性能优化
- ⏳ 防作弊增强
- ⏳ 新手引导优化
- ⏳ UI/UX改进

### V3.0 - 对抗版本 (规划中)
- 🔮 联盟系统
- 🔮 PvP战斗
- 🔮 阵营对抗
- 🔮 赛季系统
- 🔮 世界BOSS

### V4.0 - 生态版本 (概念中)
- 🌟 UGC(用户创作内容)
- 🌟 MOD支持
- 🌟 开放API
- 🌟 跨平台(Android)

---

## 13. 附录

### 13.1 参考资料

**游戏**:
- 宝可梦GO: LBS玩法
- Ingress: 地域占领
- 部落冲突: 建造系统
- 饥荒: 生存机制
- Rust: 资源循环

**技术**:
- Apple MapKit文档
- PostGIS地理空间数据库
- Supabase实时数据库
- StoreKit 2内购指南

**设计理论**:
- 《游戏设计艺术》
- 《游戏化思维》
- 《上瘾:让用户养成使用习惯的四大产品逻辑》

### 13.2 术语表

| 术语 | 英文 | 说明 |
|------|------|------|
| LBS | Location Based Service | 基于位置的服务 |
| POI | Point of Interest | 兴趣点 |
| GPS | Global Positioning System | 全球定位系统 |
| BUFF | Beneficial Effect | 增益效果 |
| DEBUFF | Detrimental Effect | 减益效果 |
| ROI | Return on Investment | 投资回报率 |
| PvE | Player vs Environment | 玩家对环境 |
| PvP | Player vs Player | 玩家对玩家 |
| UGC | User Generated Content | 用户创作内容 |

### 13.3 更新日志

**V1.0 (2025-12-23)**:
- 初版GDD完成
- 包含核心玩法设计
- 包含完整系统设计

---

**文档状态**: ✅ 已批准
**下一步行动**: 开始原型开发
**负责人**: 游戏设计团队
**审核人**: 制作人、CTO
